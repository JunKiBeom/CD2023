<!DOCTYPE html>
<html>
<head>
  <title>Chart.js Line Chart Example</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    .container {
      display: flex;
    }
    .chart-container {
      flex: 1;
      margin-right: 20px;
    }
    canvas {
      width: 100%;
      height: auto;
    }
    .property-list {
      flex: 1;
      width: 200px;
      padding: 10px;
      background-color: #f2f2f2;
      font-size: 14px;
    }
    .property-item {
      margin-bottom: 10px;
      cursor: pointer;
    }
  </style>
</head>
<body>

<div id="addressForm" style="">
    <form action="addrget" method="POST"> {%csrf_token%}
        <label for="city">시/도:</label>
        <select id="city" name="city">
            <option value="">시/도 선택</option>
            <option value="서울시">서울특별시</option>
            <option value="대전시">대전광역시</option>
            <option value="부산시">부산광역시</option>
            <option value="인천시">인천광역시</option>
            <option value="광주시">광주광역시</option>
            <option value="대구시">대구광역시</option>
            <option value="울산시">울산광역시</option>
            <option value="세종시">세종특별자치시</option>
            <option value="경기도">경기도</option>
            <option value="강원도">강원도</option>
            <option value="충청북도">충청북도</option>
            <option value="충청남도">충청남도</option>
            <option value="전라북도">전라북도</option>
            <option value="전라남도">전라남도</option>
            <option value="경상북도">경상북도</option>
            <option value="경상남도">경상남도</option>
            <option value="제주도">제주특별자치도</option>
            <!-- 다른 시들을 추가해 주세요 -->
        </select>

        <label for="district">시/구/군:</label>
        <select id="district" name="district">
            <option value="">시/구/군 선택</option>
        </select>

        <label for="address">시/구/군:</label>
        <select id="address" name="address">
            <option value="">읍/면/동 선택</option>
        </select>

        <script src="../static/js/searchRegion.js"></script>

<!--        <label for="address">상세 주소:</label>-->
<!--        <input type="text" id="address" name="address">-->

        <!--        <input type="submit" value="검색" id="searchBtn" name="searchBtn" onclick="searchBtn()" class="btn_submit">-->
        <button id="searchBtn" onclick="searchBtn()">검색</button>


    </form>
</div>

  <div class="container">
    <div class="chart-container">
      <canvas id="myChart"></canvas>
    </div>
    <div class="property-list">
      <h2>매물 목록</h2>
      <ul id="propertyItems">
        <li class="property-item">매물 1</li>
        <li class="property-item">매물 2</li>
        <li class="property-item">매물 3</li>
        <li class="property-item">매물 4</li>
        <li class="property-item">매물 5</li>
      </ul>
    </div>
  </div>

  <script>
    // 차트 데이터
    var data = {
      labels: ["실거래가 평균", "호가 평균", "현재 매물1"],
      datasets: [{
        label: "Sales",
        data: [],
        borderColor: "rgba(75, 192, 192, 1)",
        backgroundColor: "rgba(75, 192, 192, 0.2)",
        fill: true
      }]
    };

    // 차트 옵션
    var options = {
      responsive: true,
      title: {
        display: true,
        text: "Monthly Sales"
      },
      scales: {
        yAxes: [{
          ticks: {
            beginAtZero: true
          }
        }]
      }
    };

    // 차트 생성
    var ctx = document.getElementById("myChart").getContext("2d");
    var myChart = new Chart(ctx, {
      type: "bar",
      data: data,
      options: options
    });

    // 매물 목록 클릭 이벤트 처리
    var propertyItems = document.getElementsByClassName("property-item");
    for (var i = 0; i < propertyItems.length; i++) {
      propertyItems[i].addEventListener("click", function() {
        // 클릭된 매물의 인덱스를 가져옴
        var propertyIndex = Array.prototype.indexOf.call(propertyItems, this);
        // 데이터 업데이트
        if (propertyIndex === 0) {
          myChart.data.datasets[0].data[2] = 120;
        } else if (propertyIndex === 1) {
          myChart.data.datasets[0].data[2] = 300;
        }
        myChart.data.datasets[0].data[0] = 300;
        myChart.data.datasets[0].data[1] = 500;
        // 차트 업데이트
        myChart.update();
      });
    }
  </script>
</body>
</html>
